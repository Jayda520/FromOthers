<script>
  (function forceCursorVisible(){
    // 1) 注入一段“最高优先级”的 CSS（含自定义SVG光标）
    const style = document.createElement('style');
    style.id = 'force-cursor-style';
    style.textContent = `
      /* ✅ 用自定义SVG光标，确保“可见” */
      :root, html, body, body * {
        cursor: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'>\
<path d='M3 2 L3 26 L9 20 L14 30 L18 28 L13 18 L22 18 Z' fill='black' stroke='white' stroke-width='1'/>\
</svg>") 1 1, auto !important;
      }
      input, textarea { cursor: text !important; }
      button, select, option, label, a { cursor: pointer !important; }
    `;
    document.head.appendChild(style);

    // 2) 强制退出 pointer lock（如果某处启用了它，会导致“看不见/锁住指针”）
    function unlockPointer(){
      try{
        if (document.pointerLockElement) document.exitPointerLock();
      }catch(e){}
    }

    // 3) 强制清理任何 hide-cursor 类/样式
    function cleanHideCursor(){
      document.documentElement.classList.remove('hide-cursor');
      document.body && document.body.classList.remove('hide-cursor');
      if (document.body) {
        document.body.style.cursor = 'auto';
      }
    }

    // 页面加载后立刻做一次
    document.addEventListener('DOMContentLoaded', () => {
      unlockPointer();
      cleanHideCursor();
    });

    // 进入/退出全屏时也再做一次
    document.addEventListener('fullscreenchange', () => {
      unlockPointer();
      cleanHideCursor();
    });

    // 终极兜底：周期性拉回（你确认OK后我再帮你改成更干净的版本）
    setInterval(() => {
      unlockPointer();
      cleanHideCursor();
    }, 100);
  })();
</script>
